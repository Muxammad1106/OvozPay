# üìñ Goals & Savings API ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –û–±–∑–æ—Ä –º–æ–¥—É–ª—è

**–ú–æ–¥—É–ª—å —Ü–µ–ª–µ–π –∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π** –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ü–µ–ª–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏ –∏ —Å—Ä–æ–∫–∞–º–∏
- –û—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π  
- –ü–æ–ª—É—á–∞—Ç—å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Ü–µ–ª–µ–π
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Ü–µ–ª–µ–π (–∞–∫—Ç–∏–≤–Ω—ã–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ, –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ, –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)

---

## üóÑ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Goal (–¶–µ–ª—å)

–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `user` | ForeignKey | –í–ª–∞–¥–µ–ª–µ—Ü —Ü–µ–ª–∏ |
| `title` | CharField(200) | –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ |
| `description` | TextField | –û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `target_amount` | Decimal | –¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞ |
| `current_amount` | Decimal | –¢–µ–∫—É—â–∞—è –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è —Å—É–º–º–∞ |
| `deadline` | Date | –°—Ä–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ |
| `status` | CharField | –°—Ç–∞—Ç—É—Å: active, completed, failed, paused |
| `reminder_interval` | CharField | –ò–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π: daily, weekly, monthly, never |
| `last_reminder_sent` | DateTime | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ |
| `telegram_notified` | Boolean | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–∏ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ |
| `created_at` | DateTime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | DateTime | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `progress_percentage` ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (0-100%)
- `remaining_amount` ‚Äî –æ—Å—Ç–∞–≤—à–∞—è—Å—è —Å—É–º–º–∞ –¥–æ —Ü–µ–ª–∏
- `is_overdue` ‚Äî –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞ –ª–∏ —Ü–µ–ª—å
- `is_completed` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ —Ü–µ–ª—å
- `is_active` ‚Äî –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ —Ü–µ–ª—å
- `days_left` ‚Äî –¥–Ω–µ–π –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞

### GoalTransaction (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ü–µ–ª–∏)

–ú–æ–¥–µ–ª—å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π —Ü–µ–ª–µ–π.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | UUID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `goal` | ForeignKey | –°–≤—è–∑–∞–Ω–Ω–∞—è —Ü–µ–ª—å |
| `amount` | Decimal | –°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è |
| `description` | CharField(500) | –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| `telegram_notified` | Boolean | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ |
| `created_at` | DateTime | –î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ |

---

## üöÄ API Endpoints

### üéØ Goals Management

#### **GET** `/api/goals/api/goals/`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ü–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `status` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (active, completed, failed, paused)
- `reminder_interval` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- `is_overdue` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ (true/false)
- `is_completed` ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ (true/false)
- `is_active` ‚Äî —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏ (true/false)
- `search` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- `ordering` ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (created_at, deadline, target_amount, current_amount)

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "count": 5,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "user": 1,
      "user_phone": "+998901234567",
      "title": "–ù–æ–≤—ã–π iPhone",
      "description": "–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞ iPhone 15 Pro",
      "target_amount": "15000000.00",
      "current_amount": "3500000.00",
      "deadline": "2024-12-31",
      "status": "active",
      "reminder_interval": "weekly",
      "progress_percentage": 23.3,
      "remaining_amount": "11500000.00",
      "is_overdue": false,
      "is_completed": false,
      "is_active": true,
      "days_left": 145,
      "transactions_count": 7,
      "created_at": "2024-01-15T10:00:00Z",
      "updated_at": "2024-01-20T14:30:00Z"
    }
  ]
}
```

#### **POST** `/api/goals/api/goals/`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ü–µ–ª—å

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "–û—Ç–ø—É—Å–∫ –≤ –¢—É—Ä—Ü–∏–∏",
  "description": "–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞ —Å–µ–º–µ–π–Ω—ã–π –æ—Ç–ø—É—Å–∫",
  "target_amount": "8000000.00",
  "deadline": "2024-07-01",
  "reminder_interval": "weekly"
}
```

**–û—Ç–≤–µ—Ç:** `201 Created` + –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ü–µ–ª–∏ + Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### **GET** `/api/goals/api/goals/{id}/`
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ü–µ–ª–∏

#### **PUT** `/api/goals/api/goals/{id}/`
–û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–ª—å

#### **DELETE** `/api/goals/api/goals/{id}/`
–£–¥–∞–ª–∏—Ç—å —Ü–µ–ª—å

---

### ‚ö° Custom Actions –¥–ª—è —Ü–µ–ª–µ–π

#### **POST** `/api/goals/api/goals/{id}/add_progress/`
–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ —Ü–µ–ª–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "amount": "500000.00",
  "description": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã",
  "withdraw_from_balance": true
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "goal": { /* –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ü–µ–ª–∏ */ },
  "transaction": { /* –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ */ },
  "message": "–ü—Ä–æ–≥—Ä–µ—Å—Å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω"
}
```

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ `withdraw_from_balance=true`)
- –°–æ–∑–¥–∞–Ω–∏–µ GoalTransaction
- –°–ø–∏—Å–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ TransactionService
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ current_amount —Ü–µ–ª–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–µ–ª–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ target_amount
- –û—Ç–ø—Ä–∞–≤–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### **POST** `/api/goals/api/goals/{id}/complete_goal/`
–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ü–µ–ª—å –¥–æ—Å—Ä–æ—á–Ω–æ

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "force": false,
  "reason": "–ù–∞—à–µ–ª –±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"
}
```

#### **POST** `/api/goals/api/goals/{id}/update_status/`
–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ü–µ–ª–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "status": "paused",
  "reason": "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤:**
- `active` ‚Üí `completed`, `failed`, `paused`
- `paused` ‚Üí `active`, `failed`
- `failed` ‚Üí `active`
- `completed` ‚Üí –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å

#### **GET** `/api/goals/api/goals/stats/`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ü–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–û—Ç–≤–µ—Ç:**
```json
{
  "total_goals": 12,
  "active_goals": 4,
  "completed_goals": 6,
  "failed_goals": 1,
  "paused_goals": 1,
  "overdue_goals_count": 2,
  "total_target_amount": "45000000.00",
  "total_saved_amount": "28500000.00",
  "average_progress_percentage": 63.3,
  "this_month_saved": "2500000.00",
  "this_year_saved": "15800000.00",
  "recent_goals": [/* –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ü–µ–ª–µ–π */]
}
```

#### **GET** `/api/goals/api/goals/overdue/`
–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏

#### **POST** `/api/goals/api/goals/check_overdue/`
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏ (admin —Ñ—É–Ω–∫—Ü–∏—è)

---

### üí≥ Goal Transactions Management

#### **GET** `/api/goals/api/goal-transactions/`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ —Ü–µ–ª—è–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `goal` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ ID —Ü–µ–ª–∏
- `goal_id` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ ID —Ü–µ–ª–∏  
- `telegram_notified` ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `date_from` ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –¥–∞—Ç—ã
- `date_to` ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–æ –¥–∞—Ç—ã
- `search` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –∏ –Ω–∞–∑–≤–∞–Ω–∏—é —Ü–µ–ª–∏

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "count": 15,
  "results": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440001",
      "goal": "550e8400-e29b-41d4-a716-446655440000",
      "goal_title": "–ù–æ–≤—ã–π iPhone",
      "user_phone": "+998901234567",
      "amount": "500000.00",
      "description": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã",
      "telegram_notified": true,
      "created_at": "2024-01-20T14:30:00Z"
    }
  ]
}
```

#### **POST** `/api/goals/api/goal-transactions/`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "goal": "550e8400-e29b-41d4-a716-446655440000",
  "amount": "300000.00",
  "description": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∫–∞—Ä—Ç—ã",
  "withdraw_from_balance": true
}
```

#### **GET** `/api/goals/api/goal-transactions/summary/`
–ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º

**–û—Ç–≤–µ—Ç:**
```json
{
  "total_transactions": 45,
  "total_amount": "15800000.00",
  "this_month_transactions": 8,
  "this_month_amount": "2400000.00",
  "top_goals": [
    {
      "goal__title": "–ù–æ–≤—ã–π iPhone",
      "goal__id": "550e8400-e29b-41d4-a716-446655440000",
      "transaction_count": 12,
      "total_amount": "4500000.00"
    }
  ]
}
```

---

## ü§ñ Telegram –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### 1. üéØ –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–∏
```
üéØ –ù–æ–≤–∞—è —Ü–µ–ª—å —Å–æ–∑–¥–∞–Ω–∞!

üìù –ù–∞–∑–≤–∞–Ω–∏–µ: –ù–æ–≤—ã–π iPhone
üí∞ –¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞: 15,000,000 UZS
üìÖ –°—Ä–æ–∫: 31.12.2024
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 0% (0 / 15,000,000 UZS)
‚è∞ –î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å: 145

üí™ –ù–∞—á–∏–Ω–∞–π—Ç–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏!
```

#### 2. üíµ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–∏
```
üíµ –¶–µ–ª—å –ø–æ–ø–æ–ª–Ω–µ–Ω–∞!

üéØ –¶–µ–ª—å: –ù–æ–≤—ã–π iPhone
‚ûï –ü–æ–ø–æ–ª–Ω–µ–Ω–æ: 500,000 UZS
üí∞ –ù–∞–∫–æ–ø–ª–µ–Ω–æ: 3,500,000 UZS
üéØ –¶–µ–ª—å: 15,000,000 UZS
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 23.3%
üìà –û—Å—Ç–∞–ª–æ—Å—å: 11,500,000 UZS
üìÖ –î–æ —Å—Ä–æ–∫–∞: 145 –¥–Ω–µ–π

üí™ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!
```

#### 3. üéâ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–µ–ª–∏
```
üéâ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!

üéØ –¶–µ–ª—å: –ù–æ–≤—ã–π iPhone
üí∞ –°—É–º–º–∞: 15,000,000 UZS
üìÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 20.01.2024 14:30
‚è± –ü–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –¥–Ω–µ–π: 67

üèÜ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ–º —Ü–µ–ª–∏! –í—ã –±–æ–ª—å—à–æ–π –º–æ–ª–æ–¥–µ—Ü!
```

#### 4. üòî –ü—Ä–æ–≤–∞–ª —Ü–µ–ª–∏
```
üòî –¶–µ–ª—å –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞

üéØ –¶–µ–ª—å: –ù–æ–≤—ã–π iPhone
üí∞ –¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞: 15,000,000 UZS
üíµ –ù–∞–∫–æ–ø–ª–µ–Ω–æ: 3,500,000 UZS
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 23.3%
üìÖ –°—Ä–æ–∫ –∏—Å—Ç–µ–∫: 31.12.2024

üí™ –ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å! –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ü–µ–ª—å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!

üìù –ü—Ä–∏—á–∏–Ω–∞: –ò—Å—Ç–µ–∫ —Å—Ä–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
```

#### 5. ‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ü–µ–ª–∏
```
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ü–µ–ª–∏

üéØ –¶–µ–ª—å: –ù–æ–≤—ã–π iPhone
üí∞ –ù–∞–∫–æ–ø–ª–µ–Ω–æ: 3,500,000 UZS
üéØ –¶–µ–ª—å: 15,000,000 UZS
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 23.3%
üìà –û—Å—Ç–∞–ª–æ—Å—å: 11,500,000 UZS
üìÖ –î–æ —Å—Ä–æ–∫–∞: 145 –¥–Ω–µ–π

üí° –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏!
```

---

## üîß –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (GoalService)

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–µ—Ä–≤–∏—Å–∞

#### `create_goal(user, title, target_amount, deadline, ...)`
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ü–µ–ª—å
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—É—é —Ü–µ–ª—å

#### `add_progress_to_goal(goal, amount, description, withdraw_from_balance)`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ withdraw_from_balance=True)
- –°–æ–∑–¥–∞–µ—Ç GoalTransaction
- –û–±–Ω–æ–≤–ª—è–µ—Ç current_amount —Ü–µ–ª–∏
- –°–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ TransactionService
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–µ–ª—å –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ target_amount
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### `complete_goal(goal, force=False, reason="")`
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–µ–ª—å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏–ª–∏ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Å—É–º–º—ã
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

#### `fail_goal(goal, reason="")`
- –û—Ç–º–µ—á–∞–µ—Ç —Ü–µ–ª—å –∫–∞–∫ –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—É—é
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–≤–∞–ª–µ

#### `get_user_goals_stats(user)`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ü–µ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–∫–ª—é—á–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–µ—Ä–∏–æ–¥—ã

#### `check_and_update_overdue_goals()`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≤–∞–ª–µ

#### `send_goal_reminders()`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º (daily, weekly, monthly)
- –û–±–Ω–æ–≤–ª—è–µ—Ç last_reminder_sent

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Ü–µ–ª–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

#### Goal –≤–∞–ª–∏–¥–∞—Ü–∏—è:
- `target_amount` > 0 –∏ ‚â§ 999,999,999,999.99
- `deadline` –≤ –±—É–¥—É—â–µ–º
- `title` –¥–ª–∏–Ω–æ–π 3-200 —Å–∏–º–≤–æ–ª–æ–≤
- `description` ‚â§ 1000 —Å–∏–º–≤–æ–ª–æ–≤
- `current_amount` ‚â§ `target_amount`

#### GoalTransaction –≤–∞–ª–∏–¥–∞—Ü–∏—è:
- `amount` > 0 –∏ ‚â§ 999,999,999,999.99
- –¶–µ–ª—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–π
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å remaining_amount
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Ü–µ–ª–∏

### –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞

#### –°—Ç–∞—Ç—É—Å—ã —Ü–µ–ª–µ–π:
- **active** ‚Äî —Ü–µ–ª—å –∞–∫—Ç–∏–≤–Ω–∞, –º–æ–∂–Ω–æ –ø–æ–ø–æ–ª–Ω—è—Ç—å
- **completed** ‚Äî —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
- **failed** ‚Äî —Ü–µ–ª—å –ø—Ä–æ–≤–∞–ª–µ–Ω–∞, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
- **paused** ‚Äî —Ü–µ–ª—å –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
- –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ active —Ü–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è failed
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ target_amount —Ü–µ–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è completed
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ —Å—É–º–º—ã current_amount = target_amount

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–∏ –∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–∏
curl -X POST "http://localhost:8000/api/goals/api/goals/" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "–ú–∞—à–∏–Ω–∞",
    "target_amount": "50000000.00",
    "deadline": "2024-12-31",
    "description": "–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –Ω–∞ Chevrolet Cobalt"
  }'

# 2. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–∏
curl -X POST "http://localhost:8000/api/goals/api/goals/{goal_id}/add_progress/" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "amount": "2000000.00",
    "description": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã",
    "withdraw_from_balance": true
  }'

# 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl -X GET "http://localhost:8000/api/goals/api/goals/stats/" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

```bash
# –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ü–µ–ª–∏
GET /api/goals/api/goals/?is_active=true

# –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏
GET /api/goals/api/goals/?is_overdue=true

# –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
GET /api/goals/api/goals/?search=iPhone

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É
GET /api/goals/api/goals/?ordering=-progress_percentage

# –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ü–µ–ª–∏
GET /api/goals/api/goal-transactions/?goal_id={goal_id}

# –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∑–∞ –º–µ—Å—è—Ü
GET /api/goals/api/goal-transactions/?date_from=2024-01-01&date_to=2024-01-31
```

---

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### –° Transaction –º–æ–¥—É–ª–µ–º:
- –ü—Ä–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ü–µ–ª–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è expense —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ —Å Balance

### –° Analytics –º–æ–¥—É–ª–µ–º:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### –° Bot –º–æ–¥—É–ª–µ–º:
- –û—Ç–ø—Ä–∞–≤–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ telegram_api_service
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ API:

#### 400 Bad Request
```json
{
  "error": "–°—É–º–º–∞ 2000000 –ø—Ä–µ–≤—ã—Å–∏—Ç —Ü–µ–ª–µ–≤—É—é —Å—É–º–º—É. –û—Å—Ç–∞–ª–æ—Å—å –≤–Ω–µ—Å—Ç–∏: 500000"
}
```

#### 400 Bad Request (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
```json
{
  "amount": ["–°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ –Ω—É–ª—è"],
  "deadline": ["–î–∞—Ç–∞ —Ü–µ–ª–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º"]
}
```

#### 403 Forbidden
```json
{
  "error": "–ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏"
}
```

#### 404 Not Found
```json
{
  "detail": "–ù–µ –Ω–∞–π–¥–µ–Ω–æ."
}
```

---

## üìã –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Goals & Savings API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ —Ü–µ–ª—è–º–∏ —Å:

‚úÖ **–ü–æ–ª–Ω—ã–º CRUD** –¥–ª—è —Ü–µ–ª–µ–π –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π  
‚úÖ **–£–º–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç–∞—Ç—É—Å–æ–≤  
‚úÖ **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π** —Å 5 —Ç–∏–ø–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –º–æ–¥—É–ª–µ–º** –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤  
‚úÖ **–†–∞–∑–≤–∏—Ç–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π** –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å—é  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  

API –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: 2024-01-20 | –í–µ—Ä—Å–∏—è API: 1.0 | –≠—Ç–∞–ø 6: Goals & Savings* 